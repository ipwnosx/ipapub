{% load progress_bar %}
{% load staticfiles %}

<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="{% static "js/jquery-2.1.1.min.js" %}"></script>
    {% progress_bar_media %}
</head>

<body>

	<form id="abc" action="" enctype="multipart/form-data" method="post" >
		{{ form }}
		{% progress_bar %}
		<input type="submit" />
		<div id="result"></div>
	</form>

    <script type='text/javascript'>
    $("#abc").on('submit', function(event) {
      event.preventDefault();
      
      var formData = new FormData(document.forms.namedItem("abc"));
      var url = $(this).attr('action');
      
      console.log("submit start"+formData);

      $.ajax({
        url: url,
        type: 'POST',
        data: formData,
        processData: false,
        async: true,
        xhr: xhr_progress,
        success: function (data) {
        alert(JSON.stringify(data));
//        	$('#result').html(data);
        },
        cache: false,
        contentType: false
    });

    });

	</script>
</body>

</html>